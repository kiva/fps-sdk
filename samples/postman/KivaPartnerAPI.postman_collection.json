{
	"info": {
		"_postman_id": "1126e5cf-089c-40c4-9821-2ea5969d38d9",
		"name": "Kiva Partner API Copy",
		"description": "## Overview\nThis repository contains a collection of example Kiva API calls for integrating Field Partner data pipelines with Kiva's Partner Application (PA2).\n\nWith these examples and your partner setup     information in hand, you'll be able to interact with our API to authorize requests, draft loans, and more. This is a great hands-on way to understand how to build your Kiva API integration by observing working examples, and we highly recommend beginning your integration by utilizing this collection to try out the API.\n\n##",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authorization [POST]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.collectionVariables.set(\"AUTH_TOKEN\", pm.response.json().access_token);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					},
					{
						"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "{{GRANT_TYPE}}",
							"description": "Always 'client_credentials'",
							"type": "text"
						},
						{
							"key": "scope",
							"value": "{{SCOPES}}",
							"description": "Optional: request a specific scope for the token (by default, all eligible scopes are included). Acceptable scopes include create:loan_draft, create:journals, read:loans, among others.",
							"type": "text"
						},
						{
							"key": "audience",
							"value": "{{AUDIENCE}}",
							"description": "The environment for the token, e.g. stage or production. Supplied in URL form.",
							"type": "text"
						},
						{
							"key": "client_id",
							"value": "{{CLIENT_ID}}",
							"description": "Identifier for the client from Kiva Onboarding Documentation",
							"type": "text"
						},
						{
							"key": "client_secret",
							"value": "{{CLIENT_SECRET}}",
							"description": "Credentials for the client from Kiva Onboarding Documentation",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://auth-stage.dk1.kiva.org/oauth/token",
					"protocol": "https",
					"host": [
						"auth-stage",
						"dk1",
						"kiva",
						"org"
					],
					"path": [
						"oauth",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "Loan Draft [POST]",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{AUTH_TOKEN}}",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"client_waiver_signed\": true,\n  \"description\": \"Example loan description\",\n  \"disburse_time\": \"2030-12-01\",\n  \"entreps\": [\n    {\n      \"amount\": 3500,\n      \"client_id\": \"451219\",\n      \"first_name\": \"Азиз\",\n      \"gender\": \"male\",\n      \"last_name\": \"Изатов\",\n      \"loan_id\": \"A-2036-12\"\n    }\n  ],\n  \"loanuse\": \"Example loan use\",\n  \"schedule\": [\n    {\n      \"date\": \"2030-12-01\",\n      \"interest\": 34,\n      \"principal\": 349\n    }\n  ]\n}"
				},
				"url": {
					"raw": "https://partner-api-stage.dk1.kiva.org/v3/partner/{{PARTNER_ID}}/loan_draft",
					"protocol": "https",
					"host": [
						"partner-api-stage",
						"dk1",
						"kiva",
						"org"
					],
					"path": [
						"v3",
						"partner",
						"{{PARTNER_ID}}",
						"loan_draft"
					]
				}
			},
			"response": []
		},
		{
			"name": "Loans [GET]",
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {
					"user-agent": true,
					"accept": true,
					"accept-encoding": true,
					"connection": true
				},
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{AUTH_TOKEN}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://partner-api-stage.dk1.kiva.org/v3/partner/{{PARTNER_ID}}/loans",
					"protocol": "https",
					"host": [
						"partner-api-stage",
						"dk1",
						"kiva",
						"org"
					],
					"path": [
						"v3",
						"partner",
						"{{PARTNER_ID}}",
						"loans"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "PARTNER_ID",
			"value": "REQUIRED: Populate, save, and hit \"Reset all\""
		},
		{
			"key": "CLIENT_ID",
			"value": "REQUIRED: Populate, save, and hit \"Reset all\""
		},
		{
			"key": "CLIENT_SECRET",
			"value": "REQUIRED: Populate, save, and hit \"Reset all\""
		},
		{
			"key": "GRANT_TYPE",
			"value": "client_credentials"
		},
		{
			"key": "AUDIENCE",
			"value": "https://partner-api-stage.dk1.kiva.org"
		},
		{
			"key": "SCOPES",
			"value": ""
		},
		{
			"key": "AUTH_TOKEN",
			"value": "Populated by executing Authorization [POST]"
		}
	]
}